window.XHRProgressBar=function(){function n(n){var e,t,o=_options.tags,s=[];for(var r in o)for(e=new RegExp("<"+r+"[^>]*"+o[r]+"s*=s*['|\"]([^'\"]+)['|\"][^>]*>","gi");;){if(null===(t=e.exec(n)))break;s.push(t[1])}return s}function e(){var n,e=_options.tags;for(var o in e){n=document.getElementsByTagName(o);for(var s=0,r=n.length;s<r;s++)_boundElements.includes(n[s])||(_boundElements.push(n[s]),n[s].addEventListener("load",t(n[s].getAttribute(e[o]),o)))}}function t(n,t){return function(){"string"==typeof n&&(u.push(n),r.onResourceLoad(n),o()),"script"===t&&setTimeout(e,0)}}function o(n){s&&r.onProgress(n?s.length:u.length,s.length)}var s,r={onResourceLoad:function(){},onProgress:function(){},onLoad:function(){}},u=[];_boundElements=[],_options={tags:{link:"href",script:"src",img:"src"}},window.addEventListener("load",function(){o(!0),r.onLoad()});var i=new XMLHttpRequest;return i.open("GET",document.location.href),i.onreadystatechange=function(){4!==i.readyState||200!==i.status&&0!=i.status||(s=n(i.responseText),o())},i.send(null),e(),r}();